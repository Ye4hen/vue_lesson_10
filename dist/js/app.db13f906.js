(function(){"use strict";var t={1175:function(t,e,a){var n=a(9242),o=a(3396);function s(t,e){const a=(0,o.up)("router-link"),n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",null,[(0,o.Wm)(a,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1})]),(0,o.Wm)(n)],64)}var r=a(89);const i={},c=(0,r.Z)(i,[["render",s]]);var l=c,m=a(2483);const u={class:"home"};function d(t,e,a,n,s,r){const i=(0,o.up)("contacts-manager");return(0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(i)])}function _(t,e,a,n,s,r){const i=(0,o.up)("contacts-filter"),c=(0,o.up)("contacts-list");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i),(0,o.Wm)(c)])}var f=a(7139);const h={class:"contact__container"},g=(0,o._)("span",{class:"add-btn-span"},"+",-1),C={class:"contact__list"},p={key:0,class:"contact__info"},v={key:0,class:"contact__name"},w={key:1,href:"mailto:{{contact.emails[0]}}",class:"contact__email"},y={key:1,class:"score"},k=["onClick"],M={key:0,class:"error-message"};function b(t,e,a,n,s,r){return(0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("button",{onClick:e[0]||(e[0]=(...t)=>r.openForm&&r.openForm(...t)),class:"add-btn"},[g,(0,o.Uk)(" Новий контакт ")]),(0,o._)("ul",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.filteredList,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e.id,class:"contact__item"},[(0,o._)("div",{class:"contact__image",style:(0,f.j5)({backgroundColor:t.getRandomColor()})},(0,f.zw)(t.contactAvatar(e)),5),t.fullName(e)||e.emails?((0,o.wg)(),(0,o.iD)("div",p,[t.fullName(e)?((0,o.wg)(),(0,o.iD)("h5",v,(0,f.zw)(e.first_name)+" "+(0,f.zw)(e.last_name),1)):(0,o.kq)("",!0),e.emails?((0,o.wg)(),(0,o.iD)("a",w,(0,f.zw)(e.emails[0]),1)):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.iD)("div",y,(0,f.zw)(e.activity_score),1)),(0,o._)("button",{class:"button",onClick:t=>r.onEditContact(e.id)},"Редагувати",8,k)])))),128))]),t.errorMessage?((0,o.wg)(),(0,o.iD)("div",M,(0,f.zw)(t.errorMessage),1)):(0,o.kq)("",!0)])}a(560);var E=a(65),L={name:"ContactsList",computed:{...(0,E.Se)(["contactsList","contactAvatar","fullName","getRandomColor","contactForm","filteredList","errorMessage"])},methods:{...(0,E.nv)(["getContactsList","openForm","editContact","setModeToAdd"]),openForm(){this.$router.push({name:"contact"}),this.setModeToAdd(),console.log(this.mode)},onEditContact(t){this.editContact(t),this.$router.push({name:"contact_edit",params:{contactId:t}})}},created(){this.getContactsList()}};const x=(0,r.Z)(L,[["render",b]]);var N=x;const T={class:"products__filter"};function F(t,e,a,s,r,i){return(0,o.wg)(),(0,o.iD)("div",T,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.searchText=t),type:"text",onInput:e[1]||(e[1]=(...t)=>i.updateSearchText&&i.updateSearchText(...t))},null,544),[[n.nr,r.searchText]])])}var D={name:"ContactsFilter",data(){return{searchText:null}},methods:{...(0,E.nv)(["updateFilterText"]),updateSearchText(){this.updateFilterText(this.searchText)}}};const I=(0,r.Z)(D,[["render",F]]);var O=I,U={name:"ContactsManager",components:{ContactsList:N,ContactsFilter:O}};const V=(0,r.Z)(U,[["render",_]]);var S=V,$={name:"HomeView",components:{ContactsManager:S}};const z=(0,r.Z)($,[["render",d]]);var A=z;const j={class:"about"};function Z(t,e,a,n,s,r){const i=(0,o.up)("contact-page-manager");return(0,o.wg)(),(0,o.iD)("div",j,[(0,o.Wm)(i)])}function W(t,e,a,n,s,r){const i=(0,o.up)("contact-edit"),c=(0,o.up)("add-contact-form");return(0,o.wg)(),(0,o.iD)("div",null,["edit"===t.mode?((0,o.wg)(),(0,o.j4)(i,{key:0})):((0,o.wg)(),(0,o.j4)(c,{key:1}))])}const q={class:"contact__forms"},P={class:"contact__form"},B={key:0,class:"error-message"};function H(t,e,a,s,r,i){return(0,o.wg)(),(0,o.iD)("div",q,[(0,o._)("div",P,[(0,o._)("div",null,[(0,o._)("label",null,[(0,o.Uk)(" Введіть ім'я контакту "),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.newContactFirstName=t)},null,512),[[n.nr,r.newContactFirstName]])])]),(0,o._)("div",null,[(0,o._)("label",null,[(0,o.Uk)(" Введіть призвіще контакту "),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.newContactLastName=t)},null,512),[[n.nr,r.newContactLastName]])])]),(0,o._)("div",null,[(0,o._)("label",null,[(0,o.Uk)(" Введіть e-mail контакту "),(0,o.wy)((0,o._)("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=t=>r.newContactEmail=t)},null,512),[[n.nr,r.newContactEmail]])])]),(0,o._)("button",{onClick:e[3]||(e[3]=(...t)=>i.addContact&&i.addContact(...t))},"Додати контакт"),(0,o._)("button",{onClick:e[4]||(e[4]=(...t)=>i.closeForm&&i.closeForm(...t))},"Відмінити"),t.errorMessage?((0,o.wg)(),(0,o.iD)("div",B,(0,f.zw)(t.errorMessage),1)):(0,o.kq)("",!0)])])}var J={name:"AddContactForm",data(){return{newContactFirstName:null,newContactLastName:null,newContactEmail:null}},computed:{...(0,E.Se)(["getRandomColor","errorMessage","fullName","isValidEmail"])},methods:{...(0,E.nv)(["addNewContact","setErrorMessage"]),closeForm(){this.$router.push({name:"home"}),this.setErrorMessage(null)},addContact(){this.newContactFirstName||this.newContactLastName||this.isValidEmail(this.newContactEmail)?this.newContactEmail&&!this.isValidEmail(this.newContactEmail)?this.setErrorMessage("Введіть коректний e-mail"):(this.addNewContact({emails:this.newContactEmail,first_name:this.newContactFirstName,last_name:this.newContactLastName}),this.$router.push({name:"home"}),this.setErrorMessage(null)):this.setErrorMessage("Введіть валідні дані")}}};const R=(0,r.Z)(J,[["render",H]]);var Y=R;const K={class:"contact__forms"},G={class:"contact__form"},Q={key:0,class:"error-message"};function X(t,e,a,s,r,i){return(0,o.wg)(),(0,o.iD)("div",K,[(0,o._)("div",G,[(0,o._)("div",null,[(0,o._)("label",null,[(0,o.Uk)(" Ім'я контакту "),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>r.currentContact.first_name=t)},null,512),[[n.nr,r.currentContact.first_name]])])]),(0,o._)("div",null,[(0,o._)("label",null,[(0,o.Uk)(" Призвіще контакту "),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>r.currentContact.last_name=t)},null,512),[[n.nr,r.currentContact.last_name]])])]),(0,o._)("div",null,[(0,o._)("label",null,[(0,o.Uk)(" E-mail контакту "),(0,o.wy)((0,o._)("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=t=>r.currentContact.emails[0]=t)},null,512),[[n.nr,r.currentContact.emails[0]]])])]),(0,o._)("button",{onClick:e[3]||(e[3]=(...t)=>i.updateContactInfo&&i.updateContactInfo(...t))},"Зберегти зміни"),(0,o._)("button",{onClick:e[4]||(e[4]=(...t)=>i.cancelChanges&&i.cancelChanges(...t))},"Відмінити"),t.errorMessage?((0,o.wg)(),(0,o.iD)("div",Q,(0,f.zw)(t.errorMessage),1)):(0,o.kq)("",!0)])])}var tt={name:"ContactEdit",data(){return{originalContact:{},currentContact:{}}},computed:{...(0,E.Se)(["getContactById","errorMessage","isValidEmail"]),contactId(){return this.$route.params.contactId}},created(){this.originalContact=JSON.parse(JSON.stringify(this.getContactById(this.contactId))),this.currentContact={...this.originalContact}},methods:{...(0,E.nv)(["changeContactInfo","setErrorMessage"]),updateContactInfo(){this.isValidEmail(this.currentContact.emails[0])?(this.changeContactInfo(this.currentContact),this.setErrorMessage(null),this.$router.push({name:"home"})):this.setErrorMessage("Введіть валідний e-mail")},cancelChanges(){this.currentContact={...this.originalContact},this.setErrorMessage(null),this.$router.push({name:"home"})}}};const et=(0,r.Z)(tt,[["render",X]]);var at=et,nt={name:"ContactPageManager",components:{AddContactForm:Y,ContactEdit:at},computed:{...(0,E.Se)(["mode"])}};const ot=(0,r.Z)(nt,[["render",W]]);var st=ot,rt={name:"ContactView",components:{ContactPageManager:st}};const it=(0,r.Z)(rt,[["render",Z]]);var ct=it;const lt=[{path:"/",name:"home",component:A},{path:"/contact",name:"contact",component:ct},{path:"/contact/:contactId",name:"contact_edit",component:ct}],mt=(0,m.p7)({history:(0,m.PO)("/"),routes:lt});var ut=mt,dt=JSON.parse('[{"id":1,"activity_score":565265591861930.2,"emails":["support@rozetka.zendesk.com"]},{"id":2,"activity_score":366220500632379.1,"emails":["yura@ukr.net"],"first_name":"Юра"},{"id":3,"activity_score":77563010152061.86,"emails":["ivan@ukr.net"],"last_name":"Тернаєв"},{"id":4,"activity_score":12244644846.573063,"emails":["kate@ukr.net"],"first_name":"Катерина","last_name":"Мілан"},{"id":5,"activity_score":35713313.40734039,"emails":["training_1@ukr.net"],"first_name":"Worker","last_name":"Worker"},{"id":6,"activity_score":13023146.009349655},{"id":7,"activity_score":987654321.1234568,"emails":["alice@email.com"],"first_name":"Alice","last_name":"Johnson"},{"id":8,"activity_score":876543210.9876543,"emails":["bob@email.com"],"first_name":"Bob","last_name":"Smith"},{"id":9,"activity_score":654321098.7654321,"emails":["anastasiia@email.com"],"first_name":"Анастасія","last_name":"Коваль"},{"id":10,"activity_score":543210987.6543211,"emails":["serhii@email.com"],"first_name":"Сергій","last_name":"Григоренко"},{"id":11,"activity_score":432109876.543211,"emails":["oksana@email.com"],"first_name":"Оксана","last_name":"Лисенко"},{"id":12,"activity_score":321098765.4321099,"emails":["ivan@email.com"],"first_name":"Іван","last_name":"Мельник"},{"id":13,"activity_score":210987654.32109877,"emails":["nataliia@email.com"],"first_name":"Наталія","last_name":"Сидоренко"},{"id":14,"activity_score":109876543.21098766,"emails":["andrii@email.com"],"first_name":"Андрій","last_name":"Коваленко"},{"id":15,"activity_score":98765432.10987654,"emails":["maria@email.com"],"first_name":"Марія","last_name":"Іваненко"}]'),_t=(0,E.MT)({state:{contactsList:[],errorMessage:null,filterText:null,mode:null},getters:{contactsList:({contactsList:t})=>t,errorMessage:({errorMessage:t})=>t,mode:({mode:t})=>t,contactAvatar:()=>t=>t.first_name&&t.last_name?t.first_name[0]+t.last_name[0]:!t.first_name&&t.last_name?t.last_name.slice(0,2):!t.last_name&&t.first_name?t.first_name.slice(0,2):t.emails&&t.emails.length>0?t.emails[0].slice(0,2):"NA",fullName:()=>t=>t.first_name||t.last_name,getRandomColor:()=>()=>{const t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());return`rgb(${t}, ${e}, ${a})`},isValidEmail:()=>t=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(t)},filteredList:t=>{if(t.filterText){const e=t.filterText.toLowerCase(),a=t.contactsList.filter((t=>t.first_name&&t.first_name.toLowerCase().includes(e)||t.last_name&&t.last_name.toLowerCase().includes(e)||t.emails&&t.emails.some((t=>t&&t.toLowerCase().includes(e)))||(t.first_name+" "+t.last_name).toLowerCase().includes(e)||t.activity_score&&t.activity_score.toString().includes(e)));return t.errorMessage=a.length?null:"Немає таких контактів",a}return t.errorMessage=null,t.contactsList},getContactById:t=>e=>{const a=t.contactsList.find((t=>t.id==e));return a?{...a,emails:a.emails||[]}:{}}},mutations:{setContactsList(t,e){t.contactsList=e},addNewContact(t,e){const a={id:(new Date).getTime(),activity_score:(new Date).getTime(),emails:[e.emails],first_name:e.first_name,last_name:e.last_name};t.contactsList.push(a)},setErrorMessage(t,e){t.errorMessage=e},setFilterText(t,e){t.filterText=e},setMode(t,e){t.mode=e},changeContactInfo(t,e){const a=t.contactsList.findIndex((t=>t.id==e.id));t.contactsList[a]={...e}}},actions:{getContactsList({commit:t}){t("setContactsList",dt)},addNewContact({commit:t},e){t("addNewContact",e)},setModeToAdd({commit:t}){t("setMode","add"),console.log("add")},setErrorMessage({commit:t},e){t("setErrorMessage",e)},updateFilterText({commit:t},e){t("setFilterText",e)},editContact({commit:t},e){t("setMode","edit",e),console.log(e)},changeContactInfo({commit:t},e){t("changeContactInfo",e)}}});(0,n.ri)(l).use(_t).use(ut).mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,s){if(!n){var r=1/0;for(m=0;m<t.length;m++){n=t[m][0],o=t[m][1],s=t[m][2];for(var i=!0,c=0;c<n.length;c++)(!1&s||r>=s)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(i=!1,s<r&&(r=s));if(i){t.splice(m--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var m=t.length;m>0&&t[m-1][2]>s;m--)t[m]=t[m-1];t[m]=[n,o,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,r=n[0],i=n[1],c=n[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(c)var m=c(a)}for(e&&e(n);l<r.length;l++)s=r[l],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(m)},n=self["webpackChunkhomework_10_1"]=self["webpackChunkhomework_10_1"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(1175)}));n=a.O(n)})();
//# sourceMappingURL=app.db13f906.js.map